<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>レポっと Archives</title>
<!-- Reset CSS -->
<link rel="stylesheet" href="https://unpkg.com/modern-css-reset/dist/reset.min.css" />
<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<!-- Leaflet.MarkerCluster -->
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
<!-- Lazyload -->
<script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
<link rel="stylesheet" href="static/css/style.css">
</head>
<body>
<div id="app">
<div class="side-nav">
  <header>
    <h1><span>レポっと Archives</span></h1>
  </header>
  <div>
    <h2>ハッシュタグ</h2>
    <ul class="hashtags">
      <li v-for="(h, id) in hashtag.list" @click="setHashtag(id)" :class="{active: hashtag.selected==id}" class="ic">${ h.name }</li>
    </ul>
  </div>
  <footer>
    <ul>
      <li @click="showAboutDialog();">このシステムについて</li>
    </ul>
    <p>© repot.iopt.jp</p>
  </footer>
</div>
<div class="main"
     @mousemove="onDragDivider($event)"
     @mouseup="stopDragDivider($event)">
  <div v-if="isMapMode" class="map-view"
       :style="{width: mapWidth}">
    <div id="map" class="map"></div>
    <div class="summary" v-if="hashtag.selected != null">
      <h2 class="ic">${ hashtag.list[hashtag.selected].name }</h2>
      <p>レポっと数： ${ archives[hashtag.selected].length }</p>
    </div>
  </div>
  <div v-if="isListMode" class="list-view"
       :style="{width: listWidth}">
    <div v-if="isBothMode" class="view-divider"
         @mousedown="startDragDivider($event)"></div>
    <ul>
      <li v-for="(a, id) in archives[hashtag.selected]"><img class="lazyload" src="static/img/loading-photo.png" :data-src="THUMB_URL_BASE + a.filename"></li>
    </ul>
  </div>
</div>
<dialog id="about" @click.stop="dismissAboutDialog();">
  <article @click.stop="">
    <header>
      <h1>レポっとアーカイブについて</h1>
      <span @click.stop="dismissAboutDialog();" class="ic">閉じる</span>
    </header>
    <div>
      <h2>使用しているライブラリ</h2>
      <ul>
        <li><a href="https://leafletjs.com/" target="_blank">Leaflet.js</a></li>
        <li><a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">地理院タイル</a></li>
      </ul>
    </div>
  </article>
</dialog>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
<script src="data/archives.js" type="text/javascript" charset="UTF-8"></script>
<script src="static/js/main.js" type="text/javascript" charset="UTF-8"></script>
</body>
</html>